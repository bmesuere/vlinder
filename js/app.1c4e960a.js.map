{"version":3,"file":"js/app.1c4e960a.js","mappings":"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","sources":["webpack://vlinder-dashboard/./src/App.vue","webpack://vlinder-dashboard/./src/App.vue?38a5","webpack://vlinder-dashboard/./src/App.vue?f4f7","webpack://vlinder-dashboard/./src/App.vue?0e40","webpack://vlinder-dashboard/./src/plugins/vuetify.ts","webpack://vlinder-dashboard/./src/views/Dashboard.vue","webpack://vlinder-dashboard/./src/stores/index.ts","webpack://vlinder-dashboard/./src/components/GraphCard.vue","webpack://vlinder-dashboard/./src/app/d3/TimeFormatter.ts","webpack://vlinder-dashboard/./src/app/d3/D3Graph.ts","webpack://vlinder-dashboard/./src/components/GraphCard.vue?6f90","webpack://vlinder-dashboard/./src/components/GraphCard.vue?e060","webpack://vlinder-dashboard/./src/components/GraphCard.vue?b057","webpack://vlinder-dashboard/./src/components/StationCard.vue","webpack://vlinder-dashboard/./src/components/LandUseGraph.vue","webpack://vlinder-dashboard/./src/app/d3/D3LandUse.ts","webpack://vlinder-dashboard/./src/components/LandUseGraph.vue?0071","webpack://vlinder-dashboard/./src/components/LandUseGraph.vue?8b68","webpack://vlinder-dashboard/./src/components/LandUseGraph.vue?4b05","webpack://vlinder-dashboard/./src/app/weatherProperties.ts","webpack://vlinder-dashboard/./src/components/StationCard.vue?a1b1","webpack://vlinder-dashboard/./src/components/StationCard.vue?567d","webpack://vlinder-dashboard/./src/components/StationCard.vue?ea6e","webpack://vlinder-dashboard/./src/components/StationSelector.vue","webpack://vlinder-dashboard/./src/components/StationSelector.vue?f0d9","webpack://vlinder-dashboard/./src/components/StationSelector.vue?26a1","webpack://vlinder-dashboard/./src/components/StationSelector.vue?0ec0","webpack://vlinder-dashboard/./src/components/StationsMap.vue","webpack://vlinder-dashboard/./src/components/TooltipCard.vue","webpack://vlinder-dashboard/./src/components/TooltipCard.vue?9ac4","webpack://vlinder-dashboard/./src/components/TooltipCard.vue?aab2","webpack://vlinder-dashboard/./src/components/TooltipCard.vue?ad2c","webpack://vlinder-dashboard/./src/app/d3/Legend.ts","webpack://vlinder-dashboard/./src/app/d3/D3StationsMap.ts","webpack://vlinder-dashboard/./src/components/StationsMap.vue?0738","webpack://vlinder-dashboard/./src/components/StationsMap.vue?3f20","webpack://vlinder-dashboard/./src/components/StationsMap.vue?9105","webpack://vlinder-dashboard/./src/views/Dashboard.vue?9166","webpack://vlinder-dashboard/./src/views/Dashboard.vue?0b12","webpack://vlinder-dashboard/./src/views/Dashboard.vue?63ac","webpack://vlinder-dashboard/./src/router/index.ts","webpack://vlinder-dashboard/./src/main.ts","webpack://vlinder-dashboard/webpack/bootstrap","webpack://vlinder-dashboard/webpack/runtime/chunk loaded","webpack://vlinder-dashboard/webpack/runtime/compat get default export","webpack://vlinder-dashboard/webpack/runtime/define property getters","webpack://vlinder-dashboard/webpack/runtime/global","webpack://vlinder-dashboard/webpack/runtime/hasOwnProperty shorthand","webpack://vlinder-dashboard/webpack/runtime/make namespace object","webpack://vlinder-dashboard/webpack/runtime/jsonp chunk loading","webpack://vlinder-dashboard/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"VLINDER\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"href\":\"http://vlinder.ugent.be\",\"target\":\"_blank\",\"text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"VLINDER website\")]),_c('v-icon',[_vm._v(\"mdi-open-in-new\")])],1)],1),_c('v-main',[_c('router-view')],1),_c('v-footer',{attrs:{\"padless\":\"\"}},[_c('v-card',{staticClass:\"flex blue-grey darken-4\",attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"white--text text-body-2 px-8\"},[_vm._v(\" © \"+_vm._s(new Date().getFullYear())+\" Universiteit Gent · v\"+_vm._s(_vm.version)+\" \"),_c('v-spacer'),_c('v-btn',{staticClass:\"mx-4\",attrs:{\"dark\":\"\",\"icon\":\"\",\"href\":\"https://app.swaggerhub.com/apis-docs/bmesuere/VLINDER/\",\"target\":\"_blank\"}},[_c('v-icon',{attrs:{\"size\":\"24px\"}},[_vm._v(\"mdi-api\")])],1),_c('v-btn',{staticClass:\"mx-4\",attrs:{\"dark\":\"\",\"icon\":\"\",\"href\":\"https://github.com/bmesuere/vlinder\",\"target\":\"_blank\"}},[_c('v-icon',{attrs:{\"size\":\"24px\"}},[_vm._v(\"mdi-github\")])],1),_c('v-btn',{staticClass:\"mx-4\",attrs:{\"dark\":\"\",\"icon\":\"\",\"href\":\"https://twitter.com/VLINDER_project\",\"target\":\"_blank\"}},[_c('v-icon',{attrs:{\"size\":\"24px\"}},[_vm._v(\"mdi-twitter\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'App',\n  setup(_props, _context) {\n    const version = '1.3.0';\n    return {\n      version\n    };\n  }\n});\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=51e4c476&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=51e4c476&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[(_vm.isError)?_c('v-alert',{attrs:{\"type\":\"error\",\"outlined\":\"\"}},[_vm._v(\" Er ging iets fout bij het ophalen van de meetgegevens. Probeer het later opnieuw. \")]):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('StationsMap',{attrs:{\"dataLoaded\":_vm.initialDataLoaded}})],1)],1),_c('v-toolbar',{staticClass:\"mt-n4\",attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"text-h5 ml-n4\"},[_vm._v(\"Geselecteerde stations\")]),_c('v-spacer'),_c('StationSelector')],1),_c('v-row',_vm._l((_vm.selectedStations),function(s){return _c('v-col',{key:s.id,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\",\"lg\":\"3\"}},[_c('StationCard',{attrs:{\"station\":s}})],1)}),1),_c('v-toolbar-title',{staticClass:\"mt-5 text-h5\"},[_vm._v(\"Afgelopen 24u\")]),_c('v-banner',{staticClass:\"chip-banner\",attrs:{\"sticky\":\"\",\"app\":\"\",\"color\":\"white\"}},_vm._l((_vm.selectedStations),function(s){return _c('v-chip',{key:s.id,staticClass:\"ma-1\",attrs:{\"small\":\"\",\"label\":\"\",\"close\":\"\",\"dark\":\"\",\"color\":_vm.legendColors[s.id]},on:{\"click:close\":function($event){return _vm.removeFromList(s.id)}}},[_vm._v(\" \"+_vm._s(s.city)+\" · \"+_vm._s(s.given_name)+\" \")])}),1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.temp,\"tooltipPosition\":_vm.tooltipPosition,\"updateLegendColors\":\"\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.rainVolume,\"tooltipPosition\":_vm.tooltipPosition}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.pressure,\"tooltipPosition\":_vm.tooltipPosition}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.windSpeed,\"tooltipPosition\":_vm.tooltipPosition}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.humidity,\"tooltipPosition\":_vm.tooltipPosition}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"lg\":\"4\"}},[_c('GraphCard',{attrs:{\"weatherProperty\":_vm.weatherProperties.wbgt,\"tooltipPosition\":_vm.tooltipPosition}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Station, Measurement, MeasurementSeries, WeatherPropertyName } from '../app/types';\nimport { defineStore } from 'pinia';\n\nconst API_URL = 'https://mooncake.ugent.be/api';\nconst STATIONS_PATH = '/stations';\nconst MEASUREMENTS_PATH = '/measurements';\n\nexport const useVlinderStore = defineStore('vlinder', {\n  state: () => ({\n    stationsLoaded: false,\n    stations: Array<Station>(),\n    selectedStations: Array<Station>(),\n    liveMeasurements: Array<Measurement>(),\n    loadingHistoricMeasurements: true,\n    isStationsError: false,\n    isMeasurementsError: false,\n    isHistoricMeasurementsError: false,\n    legendColors: Object(),\n    historicMeasurements: Array<Array<Measurement>>()\n  }),\n  getters: {\n    historicData: (state) => (prop: WeatherPropertyName) => {\n      const data: MeasurementSeries = { property: prop, series: [], timestamps: [] };\n      if (state.historicMeasurements.length > 0) {\n        data.timestamps = state.historicMeasurements[0].map(m => m.time);\n        state.historicMeasurements.forEach(ms => {\n          data.series.push({\n            stationId: ms[0].id,\n            values: ms.map(m => m[prop])\n          });\n        });\n      }\n      return data;\n    }\n  },\n  actions: {\n    fetchStations (): Promise<Station[]> {\n      return fetch(API_URL + STATIONS_PATH)\n        .then(r => {\n          if (!r.ok) return Promise.reject(new Error('station fetch failed'));\n          return r.json();\n        })\n        .then((s: Station[]) => {\n          this.isStationsError = false;\n          this.stations = s;\n          this.stationsLoaded = true;\n          return s;\n        })\n        .catch(r => {\n          this.isStationsError = true;\n          return Promise.reject(r);\n        });\n    },\n    fetchMeasurements (): Promise<Measurement[]> {\n      return fetch(API_URL + MEASUREMENTS_PATH)\n        .then(r => {\n          if (!r.ok) return Promise.reject(new Error('measurement fetch failed'));\n          return r.json();\n        })\n        .then((m: Measurement[]) => {\n          this.isMeasurementsError = false;\n          this.liveMeasurements = m;\n          return m;\n        })\n        .catch(r => {\n          this.isMeasurementsError = true;\n          return Promise.reject(r);\n        });\n    },\n    fetchHistoricMeasurements (): Promise<Measurement[][]> {\n      this.loadingHistoricMeasurements = true;\n      return Promise.all(\n        this.selectedStations.map(s => {\n          return fetch(API_URL + MEASUREMENTS_PATH + '/' + s.id)\n            .then((r): Promise<Measurement[]> => r.json());\n        })\n      ).then(ms => {\n        this.historicMeasurements = ms;\n        this.loadingHistoricMeasurements = false;\n        return ms;\n      });\n    },\n    selectStationById (stationId: string) {\n      const station = this.stations.find(s => s.id === stationId);\n      if (station) {\n        this.addSelectedStation(station);\n        return true;\n      }\n      return false;\n    },\n    deselectStationById (stationId: string) {\n      const station = this.stations.find(s => s.id === stationId);\n      if (station) {\n        this.removeSelectedStation(station);\n      }\n    },\n    selectStationByName (stationName: string) {\n      const station = this.stations.find(s => s.name === stationName);\n      if (station) {\n        this.addSelectedStation(station);\n        return true;\n      }\n      return false;\n    },\n    toggleStationById (stationId: string) {\n      const station = this.stations.find(s => s.id === stationId);\n      if (station) {\n        if (this.selectedStations.includes(station)) {\n          this.removeSelectedStation(station);\n        } else {\n          this.addSelectedStation(station);\n        }\n      }\n    },\n    setLegendColors (legendColors: {}) {\n      this.legendColors = legendColors;\n    },\n    addSelectedStation (station: Station) {\n      if (!this.selectedStations.includes(station)) {\n        this.selectedStations.push(station);\n      }\n    },\n    removeSelectedStation (station: Station) {\n      this.selectedStations.splice(this.selectedStations.indexOf(station), 1);\n    }\n  }\n}\n);\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasData),expression:\"hasData\"}],attrs:{\"loading\":_vm.loading}},[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"mb-1\"},[_vm._v(_vm._s(_vm.weatherProperty.name))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.weatherProperty.unit))])],1)],1),_c('div',{staticClass:\"mt-n3\",attrs:{\"id\":_vm.consolidatedGraphId}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as d3 from 'd3';\n\nconst f = d3.timeFormatLocale({\n  dateTime: '%a %e %B %Y %T',\n  date: '%d-%m-%Y',\n  time: '%H:%M:%S',\n  periods: ['AM', 'PM'],\n  days: ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],\n  shortDays: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],\n  months: ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'],\n  shortMonths: ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec']\n});\n\nconst formatMillisecond = f.format('.%L');\nconst formatSecond = f.format(':%S');\nconst formatMinute = f.format('%H:%M'); // default: %I:%M\nconst formatHour = f.format('%H:%M'); // default: %I %p\nconst formatDay = f.format('%a %d %b');\nconst formatWeek = f.format('%a %d %b');\nconst formatMonth = f.format('%B');\nconst formatYear = f.format('%Y');\n\nexport function multiFormat (date: Date) {\n  return (d3.timeSecond(date) < date\n    ? formatMillisecond\n    : d3.timeMinute(date) < date\n      ? formatSecond\n      : d3.timeHour(date) < date\n        ? formatMinute\n        : d3.timeDay(date) < date\n          ? formatHour\n          : d3.timeMonth(date) < date\n            ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\n            : d3.timeYear(date) < date\n              ? formatMonth\n              : formatYear)(date);\n}\n","import * as d3 from 'd3';\nimport { multiFormat } from './TimeFormatter';\n\nimport { Station, WeatherProperty, MeasurementSeries } from '../types';\n\nexport class D3Graph {\n  private readonly selector: string;\n  private readonly selectedStations: Station[];\n  private readonly property: WeatherProperty;\n  private tooltipPosition: { timestamp: number; i: number };\n\n  // data\n  private measurements!: MeasurementSeries;\n\n  // settings\n  private readonly margin = { top: 15, right: 35, bottom: 30, left: 45 };\n  private readonly width = 400;\n  private readonly height = 250;\n\n  // svg stuff\n  private svg!: d3.Selection<SVGSVGElement, unknown, HTMLElement, any>;\n  private x!: d3.ScaleTime<number, number>;\n  private y!: d3.ScaleLinear<number, number>;\n  private color!: d3.ScaleOrdinal<string, string>;\n  private line!: d3.Line<[number, number]>;\n  private xAxis!: d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n  private yAxis!: d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n  private lines!: d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n  private bisector!: (array: ArrayLike<string>, x: unknown, lo?: number | undefined, hi?: number | undefined) => number;\n  private mouseG!: d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n  private mouseDots!: d3.Selection<Element | d3.EnterElement | Document | Window | SVGCircleElement | null, { stationId: string; values: number[] }, SVGGElement, unknown>;\n  private mouseLabels!: d3.Selection<Element | d3.EnterElement | Document | Window | SVGTextElement | null, { stationId: string; values: number[] }, SVGGElement, unknown>;\n  private mouseBGLabels!: d3.Selection<Element | d3.EnterElement | Document | Window | SVGTextElement | null, { stationId: string; values: number[] }, SVGGElement, unknown>;\n  private mouseLine!: d3.Selection<SVGLineElement, unknown, HTMLElement, any>;\n  private timeLabel!: d3.Selection<SVGTextElement, unknown, HTMLElement, any>;\n\n  constructor (selector: string, property: WeatherProperty, selectedStations: Station[], tooltipPosition: { timestamp: number; i: number }) {\n    this.selector = selector;\n    this.property = property;\n    this.selectedStations = selectedStations;\n    this.tooltipPosition = tooltipPosition;\n  }\n\n  init () {\n    this.svg = d3.select(this.selector)\n      .html('')\n      .append('svg')\n      .attr('viewBox', `0, 0, ${this.width}, ${this.height}`);\n\n    this.x = d3.scaleTime()\n      .range([this.margin.left, this.width - this.margin.right]);\n\n    this.y = d3.scaleLinear()\n      .range([this.height - this.margin.bottom, this.margin.top]);\n\n    this.color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    this.line = d3.line()\n      .curve(d3.curveMonotoneX)\n      // @ts-ignore\n      .defined(d => !(isNaN(d) || d === null))\n      .x((d, i) => this.x(Date.parse(this.measurements.timestamps[i])))\n      // @ts-ignore\n      .y(d => this.y(d));\n\n    this.lines = this.svg.append('g')\n      .attr('fill', 'none')\n      .attr('stroke-width', 1.5)\n      .attr('stroke-linejoin', 'round');\n\n    this.xAxis = this.svg.append('g')\n      .attr('transform', `translate(0,${this.height - this.margin.bottom})`)\n      // @ts-ignore\n      .call(d3.axisBottom(this.x).ticks(this.width / 80).tickFormat(multiFormat));\n\n    this.yAxis = this.svg.append('g')\n      .attr('transform', `translate(${this.margin.left},0)`)\n      .call(d3.axisLeft(this.y));\n\n    this.mouseG = this.svg.append('g').attr('class', 'mouse-over');\n    this.mouseLine = this.mouseG.append('line')\n      .attr('class', 'mouseover-line')\n      .attr('y1', this.y.range()[0])\n      .attr('y2', this.y.range()[1] - 20)\n      .style('stroke', 'black')\n      .style('stroke-width', '1px')\n      .style('opacity', '0');\n\n    this.timeLabel = this.mouseG.append('text')\n      .attr('class', 'mouseover-time')\n      .attr('y', -5 + this.y.range()[1])\n      .attr('text-anchor', 'end')\n      .style('font-size', 'small')\n      .style('opacity', '0');\n\n    this.bisector = d3.bisector((d: string) => Date.parse(d)).left;\n\n    this.svg.on('touchmove mousemove', (event) => {\n      if (!this.measurements) { return; }\n      // @ts-ignore\n      const { timestamp, i } = this.bisect(d3.pointer(event, this.svg.node() as SVGSVGElement)[0]);\n      this.tooltipPosition.timestamp = timestamp;\n      this.tooltipPosition.i = i;\n    });\n    this.svg.on('touchend mouseleave', () => {\n      this.tooltipPosition.timestamp = -1;\n      this.tooltipPosition.i = -1;\n    });\n  }\n\n  updateData (measurements: MeasurementSeries) {\n    this.measurements = measurements;\n    this.update();\n  }\n\n  getLegendColors () {\n    const result = {};\n    this.measurements.series.forEach(s => {\n      // @ts-ignore\n      result[s.stationId] = this.color(s.stationId);\n    });\n    return result;\n  }\n\n  updateTooltip () {\n    if (!this.measurements || this.measurements.series.length === 0) { return; }\n    const { timestamp, i } = this.tooltipPosition;\n    if (i === -1) {\n      this.timeLabel.style('opacity', 0);\n      this.mouseLine.style('opacity', 0);\n      this.mouseDots\n        .attr('r', 3)\n        .attr('cx', () => this.x(Date.parse(this.measurements.timestamps[this.measurements.timestamps.length - 1])))\n        .attr('cy', d => this.y(d.values[d.values.length - 1]));\n      this.mouseBGLabels\n        .attr('x', this.labelxPos())\n        .attr('y', d => this.labelyPos(d))\n        .text(d => d.values[d.values.length - 1]);\n      this.mouseLabels\n        .attr('x', this.labelxPos())\n        .attr('y', d => this.labelyPos(d))\n        .text(d => d.values[d.values.length - 1]);\n    } else {\n      this.mouseLine\n        .style('opacity', 1)\n        .attr('x1', this.x(timestamp))\n        .attr('x2', this.x(timestamp));\n      this.timeLabel\n        // @ts-ignore\n        .text(multiFormat(timestamp))\n        .attr('x', -5 + this.x(timestamp))\n        .style('opacity', 1);\n      this.mouseDots\n        .attr('r', 4)\n        .attr('cx', this.x(timestamp))\n        .attr('cy', d => this.y(d.values[i]));\n      this.mouseBGLabels\n        .attr('x', this.labelxPos(timestamp))\n        .attr('y', d => this.labelyPos(d, i))\n        .text(d => d.values[i]);\n      this.mouseLabels\n        .attr('x', this.labelxPos(timestamp))\n        .attr('y', d => this.labelyPos(d, i))\n        .text(d => d.values[i]);\n    }\n  }\n\n  private update () {\n    if (!this.svg) return;\n    if (!this.measurements) return;\n\n    const filteredSeries = this.measurements.series.filter(s => s.values[0] !== null);\n\n    // update scales\n    this.x.domain(d3.extent(this.measurements.timestamps, d => Date.parse(d)) as [number, number]);\n    this.y.domain([d3.min(filteredSeries, d => d3.min(d.values)) as number, d3.max(filteredSeries, d => d3.max(d.values)) as number]).nice();\n\n    // redraw axes\n    // @ts-ignore\n    this.xAxis.transition().call(d3.axisBottom(this.x).ticks(this.width / 80).tickFormat(multiFormat));\n    this.yAxis.transition().call(d3.axisLeft(this.y).ticks(5));\n\n    // redraw lines\n    this.lines.selectAll('path')\n      // @ts-ignore\n      .data(filteredSeries, d => d.stationId)\n      .join('path')\n      .transition()\n      // @ts-ignore\n      .attr('d', d => this.line(d.values))\n      .attr('stroke', d => this.color(d.stationId));\n\n    this.mouseDots = this.mouseG.selectAll('.mouseover-dot')\n      // @ts-ignore\n      .data(filteredSeries, d => d.stationId)\n      .join('circle')\n      .attr('class', 'mouseover-dot')\n      .attr('r', 3)\n      .attr('cx', () => this.x(Date.parse(this.measurements.timestamps[this.measurements.timestamps.length - 1])))\n      .attr('cy', d => this.y(d.values[d.values.length - 1]))\n      .style('fill', d => this.color(d.stationId));\n\n    this.mouseBGLabels = this.mouseG.selectAll('.mouseover-BGlabels')\n      // @ts-ignore\n      .data(filteredSeries, d => d.stationId)\n      .join('text')\n      .attr('class', 'mouseover-BGlabels')\n      .attr('x', this.labelxPos())\n      .attr('y', d => this.labelyPos(d))\n      .text(d => d.values[d.values.length - 1])\n      .style('font-size', 'small')\n      .style('stroke', 'white')\n      .style('stroke-width', 3);\n\n    this.mouseLabels = this.mouseG.selectAll('.mouseover-labels')\n      // @ts-ignore\n      .data(filteredSeries, d => d.stationId)\n      .join('text')\n      .attr('class', 'mouseover-labels')\n      .attr('x', this.labelxPos())\n      .attr('y', d => this.labelyPos(d))\n      .text(d => d.values[d.values.length - 1])\n      .style('font-size', 'small')\n      .style('fill', d => this.color(d.stationId));\n  }\n\n  private labelxPos (timestamp?: number) {\n    timestamp = timestamp || Date.parse(this.measurements.timestamps[this.measurements.timestamps.length - 1]);\n    return 5 + this.x(timestamp);\n  }\n\n  private labelyPos (d: {values: number[]}, i?: number) {\n    let offset = -5;\n    if (i === undefined) {\n      i = d.values.length - 1;\n      offset = 4.5;\n    }\n    return offset + this.y(d.values[i]);\n  }\n\n  private bisect (mx: number): {timestamp: number; i: number} {\n    if (!this.measurements) {\n      return { timestamp: 0, i: 0 };\n    }\n    const date = this.x.invert(mx);\n    const index = this.bisector(this.measurements.timestamps, date, 1);\n    const a = Date.parse(this.measurements.timestamps[index - 1]);\n    const b = Date.parse(this.measurements.timestamps[index]);\n    // @ts-ignore\n    if (date - a > b - date) {\n      return { timestamp: b, i: index };\n    } else {\n      return { timestamp: a, i: index - 1 };\n    }\n  }\n}\n","\nimport { computed, defineComponent, onMounted, PropType, watch } from 'vue';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { D3Graph } from '@/app/d3/D3Graph';\nimport { Station, Measurement, WeatherProperty, WeatherPropertyName } from '@/app/types';\n\nexport default defineComponent({\n  name: 'GraphCard',\n  props: {\n    weatherProperty: {\n      type: Object as PropType<WeatherProperty>,\n      required: true\n    },\n    graphId: {\n      type: String\n    },\n    updateLegendColors: {\n      type: Boolean\n    },\n    tooltipPosition: {\n      type: Object as PropType<{ timestamp: number; i: number }>,\n      default: () => ({ i: -1, timestamp: -1 })\n    }\n  },\n  setup (props, _context) {\n    let graph: D3Graph | undefined;\n    const wbgtStations = ['vlinder02', 'vlinder73', 'vlinder74', 'vlinder75', 'vlinder76'];\n\n    const vlinderStore = useVlinderStore();\n\n    const measurements = computed<Measurement[][]>(() => {\n      return vlinderStore.historicMeasurements;\n    });\n\n    const selectedStations = computed<Station[]>(() => {\n      return vlinderStore.selectedStations;\n    });\n\n    const loading = computed<boolean>(() => {\n      return vlinderStore.loadingHistoricMeasurements;\n    });\n\n    const consolidatedGraphId = computed<string>(() => {\n      return props.graphId || 'weather_graph_' + props.weatherProperty.property;\n    });\n\n    const tooltipI = computed<number>(() => {\n      return props.tooltipPosition.i;\n    });\n\n    const hasData = computed<boolean>(() => {\n      if (props.weatherProperty.property === 'wbgt') {\n        return selectedStations.value.some(s => wbgtStations.includes(s.name));\n      }\n      return true;\n    });\n\n    onMounted(() => {\n      graph = new D3Graph(`#${consolidatedGraphId.value}`, props.weatherProperty, selectedStations.value, props.tooltipPosition);\n      graph.init();\n    });\n\n    // when measurements are updated, we have to manually update the D3 map\n    watch(measurements, () => {\n      if (graph) {\n        graph.updateData(vlinderStore.historicData(props.weatherProperty.property as WeatherPropertyName));\n        if (props.updateLegendColors) {\n          vlinderStore.setLegendColors(graph.getLegendColors());\n        }\n      }\n    }, { deep: true });\n\n    watch(tooltipI, () => {\n      if (graph) {\n        graph.updateTooltip();\n      }\n    }, { deep: true });\n\n    return {\n      consolidatedGraphId,\n      hasData,\n      loading\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GraphCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GraphCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GraphCard.vue?vue&type=template&id=c5f03f46&\"\nimport script from \"./GraphCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./GraphCard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',[_c('v-btn',{staticClass:\"mr-n3 mt-1\",attrs:{\"fab\":\"\",\"absolute\":\"\",\"right\":\"\",\"x-small\":\"\",\"elevation\":\"3\"},on:{\"click\":_vm.removeFromList}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-carousel',{attrs:{\"hide-delimiters\":\"\",\"height\":\"auto\",\"dark\":\"\",\"show-arrows-on-hover\":\"\"}},[_c('v-carousel-item',[_c('v-img',{attrs:{\"aspect-ratio\":\"2.3137254902\",\"src\":_vm.mapUrl,\"lazy-src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAICAYAAAD0g6+qAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAEqADAAQAAAABAAAACAAAAAAMC9jHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABgklEQVQoFR2R2Y7UMBREjx0nzjJJjxCDhHji/78FCfEDPCEkpO6h6cTZvFAzD5bspFxV99h8//GtWGOwNER2rK0Y+wlM4npbuIw93reENZBTxlhpbcaaLI1lWWZymXG/7j8xsvh8+QrJE0vmkWZSzpR0SDxgKwuF95Dz3NnjH6wLdM0XfWt0/wlbZLLFjZgTpRQZJNZtw1WVDBxhCdyuN7ZjxTjoupZUdmkiKdZ0bc1xPHAmerV5Yewm5nnDN56UkuIrrUQIC87V1L5i3WdqWnr/iZIPGuc500rdgHuZJrkroX6lbZ85j/g+SgwBs2+006g0jWagsk5Y1NQ0nPGVI50azbMfATcMhb/rg9//Dj62nlozJ0GVAquzlclxRqWKhXkzyRrtzhKugv8sVh90VqOcT6b2QlHNwT+RYxKPXawilaDs9ztd32kvfvEQz6g2pxiqnWsVEvRPjYrZqesR4kjfdkSJYop60pNGw0ddfFtZ+02PUDdWeqOgQYwG+rqXsec/ZLXPWAALVrMAAAAASUVORK5CYII=\"}})],1),_c('v-carousel-item',[_c('LandUseGraph',{attrs:{\"station\":_vm.station}})],1),_c('v-carousel-item',[_c('v-img',{attrs:{\"aspect-ratio\":\"2.3137254902\",\"src\":_vm.sponsorUrl,\"lazy-src\":\"data:image/png;base64,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\"}})],1)],1),_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',{staticClass:\"pb-1\"},[_c('div',{staticClass:\"text-overline font-weight-regular mb-2\",staticStyle:{\"line-height\":\"1rem\",\"font-size\":\"0.625rem !important\"}},[_vm._v(\" \"+_vm._s(_vm.station.name)+\" \"),(_vm.measurements['status'] == 'Offline')?_c('span',[_vm._v(\" · offline\")]):_vm._e()]),_c('v-list-item-title',{staticClass:\"mb-1\"},[_vm._v(_vm._s(_vm.station.city)+\" · \"+_vm._s(_vm.station.given_name))]),_c('v-list-item-subtitle',[_c('span',{attrs:{\"title\":\"Betrokken school\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-school-outline\")]),_vm._v(\" \"+_vm._s(_vm.station.school)+\" \")],1),_c('br'),_c('span',{staticClass:\"mt-1\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"title\":\"Sponsor\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-heart-outline\")]),(_vm.station.sponsor !== '')?_c('span',[_vm._v(\" \"+_vm._s(_vm.station.sponsor)+\" \")]):_c('a',{attrs:{\"hfref\":\"mailto:vlinder@ugent.be\"}},[_vm._v(\" Dit station sponsoren? \")])],1)])],1)],1),_c('v-list',{attrs:{\"dense\":\"\",\"subheader\":\"\"}},_vm._l((_vm.activeProperties),function(p){return _c('v-list-item',{key:p.property},[_c('v-list-item-subtitle',{attrs:{\"title\":p.title}},[_c('v-icon',{staticClass:\"pr-1\"},[_vm._v(_vm._s(p.icon))]),_vm._v(\" \"+_vm._s(p.name))],1),_c('v-list-item-title',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.measurements['status'] == \"Offline\" ? \"-\" : _vm.measurements[p.property])+\" \"+_vm._s(p.unit))])],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"id\":_vm.graphId}},[_c('v-img',{attrs:{\"aspect-ratio\":\"2.3137254902\",\"src\":\"\",\"lazy-src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAICAYAAAD0g6+qAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAEqADAAQAAAABAAAACAAAAAAMC9jHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABgklEQVQoFR2R2Y7UMBREjx0nzjJJjxCDhHji/78FCfEDPCEkpO6h6cTZvFAzD5bspFxV99h8//GtWGOwNER2rK0Y+wlM4npbuIw93reENZBTxlhpbcaaLI1lWWZymXG/7j8xsvh8+QrJE0vmkWZSzpR0SDxgKwuF95Dz3NnjH6wLdM0XfWt0/wlbZLLFjZgTpRQZJNZtw1WVDBxhCdyuN7ZjxTjoupZUdmkiKdZ0bc1xPHAmerV5Yewm5nnDN56UkuIrrUQIC87V1L5i3WdqWnr/iZIPGuc500rdgHuZJrkroX6lbZ85j/g+SgwBs2+006g0jWagsk5Y1NQ0nPGVI50azbMfATcMhb/rg9//Dj62nlozJ0GVAquzlclxRqWKhXkzyRrtzhKugv8sVh90VqOcT6b2QlHNwT+RYxKPXawilaDs9ztd32kvfvEQz6g2pxiqnWsVEvRPjYrZqesR4kjfdkSJYop60pNGw0ddfFtZ+02PUDdWeqOgQYwG+rqXsec/ZLXPWAALVrMAAAAASUVORK5CYII=\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as d3 from 'd3';\n\nimport { LandUse } from '../types';\n\nexport class D3LandUse {\n  private readonly selector: string;\n  private readonly landUse: LandUse[];\n\n  // settings\n  private readonly margin = { top: 5, right: 5, bottom: 20, left: 5 };\n  private readonly width = 295;\n  private readonly height = 127.5;\n\n  private readonly waterColor = '#9ab5cd';\n  private readonly pavedColor = '#efc7c8';\n  private readonly greenColor = '#b4c49c';\n\n  private readonly waterName = 'Water';\n  private readonly pavedName = 'Verhard';\n  private readonly greenName = 'Groen';\n\n  private angle!: number[] & d3.ScaleLinear<number, number>;\n  private radius!: string[] & d3.ScaleBand<string>;\n\n  constructor (selector: string, landUse: LandUse[]) {\n    this.selector = selector;\n    this.landUse = landUse;\n  }\n\n  init () {\n    const svg = d3.select(this.selector)\n      .html('')\n      .append('svg')\n      .attr('viewBox', `0, 0, ${this.width}, ${this.height}`)\n      .attr('style', 'color: black')\n      .append('g')\n      .attr('transform', `translate(0, ${this.height - this.margin.bottom})`);\n\n    const series = d3.stack()\n      .keys(['water', 'paved', 'green'])\n      // @ts-ignore\n      .value((d, key) => d.usage[key])(this.landUse)\n      // @ts-ignore\n      .map(d => { d.forEach(v => { v.key = d.key; }); return d; });\n\n    const color = d3.scaleOrdinal()\n      .domain(series.map(d => d.key))\n      .range([this.waterColor, this.pavedColor, this.greenColor])\n      .unknown('#ccc');\n\n    this.angle = d3.scaleLinear()\n      // @ts-ignore\n      .domain([0, d3.max(series, d => d3.max(d, d => d[1]))])\n      .range([3.05 / 8 * Math.PI, 4 / 8 * Math.PI]);\n\n    this.radius = d3.scaleBand()\n      // @ts-ignore\n      .domain(this.landUse.map(d => d.distance))\n      .range([this.margin.left, this.width - this.margin.right])\n      .padding(0.1);\n\n    // @ts-ignore\n    const rAxis = g => g\n      .call(d3.axisBottom(this.radius).tickSizeOuter(0).tickFormat(d => d + ' m'))\n      // @ts-ignore\n      .call(g => g.selectAll('.domain').remove());\n\n    // @ts-ignore\n    svg.append('g')\n      .selectAll('g')\n      .data(series)\n      .join('g')\n      .attr('fill', (d) => (color(d.key) as string))\n      .selectAll('path')\n      .data(d => d)\n      .join('path')\n      .attr('d', d => this.arc(d))\n      .append('title')\n      // @ts-ignore\n      .text(d => `${d3.format('.0%')(d.data.usage[d.key])} ${this[d.key + 'Name'].toLowerCase()} in een straal van ${d.data.distance}m rond het station`);\n\n    svg.append('g')\n      .call(rAxis);\n\n    const legend = svg.append('g')\n      .attr('transform', `translate(10, ${-1 * (this.height - this.margin.bottom) + 10})`);\n    legend.append('text').attr('y', 12).text('Landgebruik');\n    ['water', 'paved', 'green'].forEach((type, i) => {\n      legend.append('rect')\n        .attr('width', 10)\n        .attr('height', 10)\n        .attr('y', (i + 2) * 14 - 9)\n      // @ts-ignore\n        .attr('fill', this[type + 'Color']);\n      legend.append('text')\n        .attr('font-size', 11)\n        .attr('x', 15)\n        .attr('y', (i + 2) * 14)\n      // @ts-ignore\n        .text(this[type + 'Name']);\n    });\n  }\n\n  // @ts-ignore\n  private arc (d): string {\n    // @ts-ignore\n    return d3.arc()\n      // @ts-ignore\n      .innerRadius(this.radius(d.data.distance))\n      // @ts-ignore\n      .outerRadius(this.radius(d.data.distance) + this.radius.bandwidth())\n      .startAngle(this.angle(d[0]))\n      .endAngle(this.angle(d[1]))();\n  }\n}\n","\nimport { computed, defineComponent, onMounted, PropType } from 'vue';\n\nimport { D3LandUse } from '@/app/d3/D3LandUse';\nimport { Station } from '@/app/types';\n\nexport default defineComponent({\n  name: 'LandUseGraph',\n  props: {\n    station: {\n      type: Object as PropType<Station>,\n      required: true\n    }\n  },\n  setup (props, _context) {\n    let graph: D3LandUse | undefined;\n\n    const graphId = computed<string>(() => {\n      return 'land_use_' + props.station.id;\n    });\n\n    onMounted(() => {\n      graph = new D3LandUse(`#${graphId.value}`, props.station.landUse);\n      graph.init();\n    });\n\n    return {\n      graphId\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LandUseGraph.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LandUseGraph.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LandUseGraph.vue?vue&type=template&id=3925131f&\"\nimport script from \"./LandUseGraph.vue?vue&type=script&lang=ts&\"\nexport * from \"./LandUseGraph.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const weatherProperties = {\n  temp: {\n    property: 'temp',\n    name: 'Temperatuur',\n    legend: 'Temperatuur (°C)',\n    icon: 'mdi-thermometer',\n    title: 'Temperatuur op dit moment',\n    unit: '°C'\n  },\n  rainVolume: {\n    property: 'rainVolume',\n    name: 'Neerslag',\n    legend: 'Neerslag vandaag (l/m²)',\n    icon: 'mdi-weather-rainy',\n    title: 'Neerslag sinds middernacht',\n    unit: 'l/m²'\n  },\n  pressure: {\n    property: 'pressure',\n    name: 'Luchtdruk',\n    legend: 'Luchtdruk (hPa)',\n    icon: 'mdi-gauge',\n    title: 'Luchtdruk op dit moment',\n    unit: 'hPa'\n  },\n  windSpeed: {\n    property: 'windSpeed',\n    name: 'Windsnelheid',\n    legend: 'Windsnelheid (km/u)',\n    icon: 'mdi-weather-windy',\n    title: 'Windsnelheid op dit moment',\n    unit: 'km/u'\n  },\n  humidity: {\n    property: 'humidity',\n    name: 'Luchtvochtigheid',\n    legend: 'Luchtvochtigheid (%)',\n    icon: 'mdi-water-percent',\n    title: 'Luchtvochtigheid op dit moment',\n    unit: '%'\n  },\n  wbgt: {\n    property: 'wbgt',\n    name: 'Gevoelstemperatuur (WBGT)',\n    legend: 'Gevoelstemperatuur (°C)',\n    icon: 'mdi-thermometer-lines',\n    title: 'Gevoelstemperatuur (WBGT) op dit moment',\n    unit: '°C'\n  }\n};\n\nexport { weatherProperties };\n","\nimport { computed, defineComponent, PropType } from 'vue';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { event } from 'vue-gtag';\n\nimport LandUseGraph from './LandUseGraph.vue';\n\nimport { Station, Measurement, WeatherProperty } from '@/app/types';\nimport { weatherProperties as wp } from '@/app/weatherProperties';\n\nexport default defineComponent({\n  name: 'StationCard',\n  components: { LandUseGraph },\n  props: {\n    station: {\n      type: Object as PropType<Station>,\n      required: true\n    }\n  },\n  setup (props, _context) {\n    const vlinderStore = useVlinderStore();\n\n    const mapUrl = computed<string>(() => `./img/maps/${props.station.name}.png`);\n    const sponsorUrl = computed<string>(() => `./img/sponsors/${props.station.name}.png`);\n    const measurements = computed<Measurement | {}>(() => {\n      return (vlinderStore.liveMeasurements as Measurement[]).find(m => m.id === props.station.id) || {};\n    });\n    const activeProperties = computed<WeatherProperty[]>(() => {\n      // filter the properties where the measurement is null\n      return Object.values(wp)\n        .filter((p: WeatherProperty) => measurements.value[p.property as any] !== null);\n    });\n\n    function removeFromList() {\n      event('station_deselect', { event_category: 'stations', value: props.station.id });\n      vlinderStore.deselectStationById(props.station.id);\n    }\n    return {\n      mapUrl,\n      sponsorUrl,\n      measurements,\n      activeProperties,\n      removeFromList\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationCard.vue?vue&type=template&id=2e6ef3d7&\"\nimport script from \"./StationCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationCard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StationCard.vue?vue&type=style&index=0&id=2e6ef3d7&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"500\",\"transition\":\"dialog-bottom-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"depressed\":\"\",\"outlined\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"left\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-magnify\")]),_vm._v(\" Selecteer stations \")],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-card-title',[_c('v-text-field',{attrs:{\"label\":\"Typ om te filteren\",\"prepend-inner-icon\":\"mdi-magnify\",\"hide-details\":\"\",\"autofocus\":\"\",\"clearable\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-card-text',{staticStyle:{\"height\":\"300px\"}},[_c('v-treeview',{attrs:{\"items\":_vm.stations,\"search\":_vm.search,\"filter\":_vm.filter,\"active\":_vm.activeStations,\"activatable\":\"\",\"hoverable\":\"\",\"multiple-active\":\"\",\"open-on-click\":\"\"},on:{\"update:active\":_vm.selectStation},scopedSlots:_vm._u([{key:\"label\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(item.city + \" · \" + item.given_name)+\" \"),_c('div',{staticClass:\"caption mt-n1\"},[(item.sponsor !== '')?_c('span',{attrs:{\"title\":\"sponsor\"}},[_vm._v(\" \"+_vm._s(item.sponsor)+\" · \")]):_vm._e(),_c('span',{attrs:{\"title\":\"school\"}},[_vm._v(\" \"+_vm._s(item.school)+\" \")])])]}},{key:\"prepend\",fn:function({ active }){return [_c('v-icon',[_vm._v(\" \"+_vm._s(active ? 'mdi-checkbox-outline' : 'mdi-checkbox-blank-outline')+\" \")])]}}])})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Sluiten \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { computed, defineComponent, ref, watch } from 'vue';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { Station } from '@/app/types';\n\nexport default defineComponent({\n  name: 'StationSelector',\n  setup (_props, _context) {\n    const dialog = ref(false);\n    const search = ref('');\n    const activeStations = ref<string[]>([]);\n\n    const vlinderStore = useVlinderStore();\n\n    const stations = computed<Station[]>(() => vlinderStore.stations);\n    const selectedStations = computed<Station[]>(() => vlinderStore.selectedStations);\n\n    function filter (station: Station, query: string): boolean {\n      const searchKey = station.city + station.given_name + station.name + station.sponsor + station.school;\n      return searchKey.toLowerCase().includes(query.toLowerCase());\n    }\n\n    function selectStation (stations: string[]): void {\n      const addedStations = stations.filter(s => !activeStations.value.includes(s));\n      const removeStations = activeStations.value.filter(s => !stations.includes(s));\n      addedStations.forEach(station => {\n        vlinderStore.selectStationById(station);\n      });\n      removeStations.forEach(station => {\n        vlinderStore.deselectStationById(station);\n      });\n    }\n\n    watch(selectedStations, () => {\n      activeStations.value = selectedStations.value.map(s => s.id);\n    }, { deep: true });\n\n    return {\n      dialog,\n      search,\n      activeStations,\n      stations,\n      selectedStations,\n      filter,\n      selectStation\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationSelector.vue?vue&type=template&id=2ef59ff6&\"\nimport script from \"./StationSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"text-center\"},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"text-h5 ml-n4 d-none d-sm-flex\"},[_vm._v(_vm._s(_vm.weatherProperties[_vm.selectedProperty].title))]),_c('v-toolbar-title',{staticClass:\"text-h5 ml-n4 d-sm-none\"},[_vm._v(_vm._s(_vm.weatherProperties[_vm.selectedProperty].name))]),_c('v-spacer'),_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.selectedProperty),callback:function ($$v) {_vm.selectedProperty=$$v},expression:\"selectedProperty\"}},_vm._l((_vm.allowedProperties),function(p){return _c('v-tooltip',{key:p,attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"value\":p}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.weatherProperties[p].icon))])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.weatherProperties[p].name))])])}),1)],1),_c('div',{attrs:{\"id\":_vm.mapId}},[_vm._m(0)],1),_c('v-fade-transition',[(_vm.tooltipInfo.shown)?_c('div',{staticClass:\"text-left\",style:({width: '250px', 'z-index': '10', position: 'absolute', left: (_vm.tooltipInfo.x + 15) + 'px', top: (_vm.tooltipInfo.y - 45) + 'px'})},[_c('TooltipCard',{attrs:{\"station\":_vm.tooltipInfo.station}})],1):_vm._e()])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-img',{attrs:{\"aspect-ratio\":\"3\",\"src\":\"\",\"lazy-src\":\"data:image/png;base64,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\"}})\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"elevation\":\"10\"}},[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',{staticClass:\"pb-2\"},[_c('div',{staticClass:\"text-overline font-weight-regular mb-1\",staticStyle:{\"line-height\":\"1rem\",\"font-size\":\"0.625rem !important\"}},[_vm._v(\" \"+_vm._s(_vm.station.name)+\" \"),(_vm.measurements['status'] == 'Offline')?_c('span',[_vm._v(\" · offline\")]):_vm._e()]),_c('v-list-item-title',{staticClass:\"mb-1\"},[_vm._v(_vm._s(_vm.station.city)+\" · \"+_vm._s(_vm.station.given_name))]),_c('v-list-item-subtitle',[(_vm.station.sponsor !== '')?_c('span',{attrs:{\"title\":\"sponsor\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-heart-outline\")]),_vm._v(\" \"+_vm._s(_vm.station.sponsor)+\" · \")],1):_vm._e(),_c('span',{attrs:{\"title\":\"school\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-school-outline\")]),_vm._v(\" \"+_vm._s(_vm.station.school)+\" \")],1)])],1)],1),_c('v-list',{staticClass:\"px-2\",attrs:{\"subheader\":\"\"}},[_c('v-row',{attrs:{\"dense\":\"\"}},_vm._l((_vm.activeProperties),function(p){return _c('v-col',{key:p.property,staticClass:\"pa-0\",attrs:{\"cols\":\"6\"}},[_c('v-list-item',{staticClass:\"px-2\",staticStyle:{\"min-height\":\"36px\"},attrs:{\"dense\":\"\"}},[_c('v-list-item-subtitle',{attrs:{\"title\":p.title}},[_c('v-icon',{staticClass:\"pr-1\"},[_vm._v(_vm._s(p.icon))]),_vm._v(\" \"+_vm._s(_vm.measurements['status'] == \"Offline\" ? \"-\" : _vm.measurements[p.property])+\" \"+_vm._s(p.unit)+\" \")],1)],1)],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { computed, defineComponent, PropType } from 'vue';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { Station, Measurement, WeatherProperty } from '@/app/types';\nimport { weatherProperties as wp } from '@/app/weatherProperties';\n\nexport default defineComponent({\n  name: 'TooltipCard',\n  props: {\n    station: {\n      type: Object as PropType<Station>,\n      required: true\n    }\n  },\n  setup (props, _context) {\n    const vlinderStore = useVlinderStore();\n\n    const measurements = computed<Measurement | {}>(() => {\n      return (vlinderStore.liveMeasurements as Measurement[]).find(m => m.id === props.station.id) || {};\n    });\n\n    const activeProperties = computed<WeatherProperty[]>(() => {\n      // filter the properties where the measurement is null\n      return Object.values(wp)\n        .filter((p: WeatherProperty) => measurements.value[p.property as any] !== null);\n    });\n\n    return { activeProperties, measurements };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TooltipCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TooltipCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TooltipCard.vue?vue&type=template&id=421b9438&\"\nimport script from \"./TooltipCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./TooltipCard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\n// @ts-nocheck\nimport * as d3 from 'd3';\n\n// adapted from https://observablehq.com/@d3/color-legend\nexport function legend ({\n  color,\n  title,\n  tickSize = 6,\n  width = 320,\n  height = 44 + tickSize,\n  marginTop = 18,\n  marginRight = 0,\n  marginBottom = 16 + tickSize,\n  marginLeft = 0,\n  ticks = width / 64,\n  tickFormat,\n  tickValues\n} = {}) {\n  const svg = d3.create('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', [0, 0, width, height])\n    .style('overflow', 'visible')\n    .style('display', 'block');\n\n  let tickAdjust = g => g.selectAll('.tick line').attr('y1', marginTop + marginBottom - height);\n  let x;\n\n  // Continuous\n  if (color.interpolate) {\n    const n = Math.min(color.domain().length, color.range().length);\n\n    x = color.copy().rangeRound(d3.quantize(d3.interpolate(marginLeft, width - marginRight), n));\n\n    svg.append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))).toDataURL());\n  }\n\n  // Sequential\n  else if (color.interpolator) {\n    x = Object.assign(color.copy()\n      .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\n    { range () { return [marginLeft, width - marginRight]; } });\n\n    svg.append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.interpolator()).toDataURL());\n\n    // scaleSequentialQuantile doesn’t implement ticks or tickFormat.\n    if (!x.ticks) {\n      if (tickValues === undefined) {\n        const n = Math.round(ticks + 1);\n        tickValues = d3.range(n).map(i => d3.quantile(color.domain(), i / (n - 1)));\n      }\n      if (typeof tickFormat !== 'function') {\n        tickFormat = d3.format(tickFormat === undefined ? ',f' : tickFormat);\n      }\n    }\n  }\n\n  // Threshold\n  else if (color.invertExtent) {\n    const thresholds =\n      color.thresholds ? color.thresholds() // scaleQuantize\n        : color.quantiles ? color.quantiles() // scaleQuantile\n          : color.domain(); // scaleThreshold\n\n    const thresholdFormat =\n      tickFormat === undefined ? d => d\n        : typeof tickFormat === 'string' ? d3.format(tickFormat)\n          : tickFormat;\n\n    x = d3.scaleLinear()\n      .domain([-1, color.range().length - 1])\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg.append('g')\n      .selectAll('rect')\n      .data(color.range())\n      .join('rect')\n      .attr('x', (d, i) => x(i - 1))\n      .attr('y', marginTop)\n      .attr('width', (d, i) => x(i) - x(i - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', d => d);\n\n    tickValues = d3.range(thresholds.length);\n    tickFormat = i => thresholdFormat(thresholds[i], i);\n  }\n\n  // Ordinal\n  else {\n    x = d3.scaleBand()\n      .domain(color.domain())\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg.append('g')\n      .selectAll('rect')\n      .data(color.domain())\n      .join('rect')\n      .attr('x', x)\n      .attr('y', marginTop)\n      .attr('width', Math.max(0, x.bandwidth() - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', color);\n\n    tickAdjust = () => { };\n  }\n\n  svg.append('g')\n    .attr('transform', `translate(0,${height - marginBottom})`)\n    .call(d3.axisBottom(x)\n      .ticks(ticks, typeof tickFormat === 'string' ? tickFormat : undefined)\n      .tickFormat(typeof tickFormat === 'function' ? tickFormat : undefined)\n      .tickSize(tickSize)\n      .tickValues(tickValues))\n    .call(tickAdjust)\n    .call(g => g.select('.domain').remove())\n    .call(g => g.append('text')\n      .attr('x', marginLeft)\n      .attr('y', marginTop + marginBottom - height - 6)\n      .attr('fill', 'currentColor')\n      .attr('text-anchor', 'start')\n      .attr('font-weight', 'bold')\n      .text(title));\n\n  return svg.node();\n}\n\nexport function swatches ({\n  color,\n  columns = null,\n  format = x => x,\n  swatchSize = 15,\n  swatchWidth = swatchSize,\n  swatchHeight = swatchSize,\n  marginLeft = 0,\n  id = 'swatches'\n}) {\n  if (columns !== null) {\n    return `<div style=\"display: flex; align-items: center; margin-left: ${+marginLeft}px; min-height: 33px; font: 10px sans-serif;\">\n  <style>\n\n.${id}-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.${id}-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ${+swatchWidth}px - 0.5em);\n}\n\n.${id}-swatch {\n  width: ${+swatchWidth}px;\n  height: ${+swatchHeight}px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style=\"width: 100%; columns: ${columns};\">${color.domain().map(value => {\n    const label = format(value);\n    return `<div class=\"${id}-item\">\n      <div class=\"${id}-swatch\" style=\"background:${color(value)};\"></div>\n      <div class=\"${id}-label\" title=\"${label.replace(/[\"&]/g, entity)}\">${document.createTextNode(label)}</div>\n    </div>`;\n  })}\n  </div>\n</div>`;\n  }\n\n  return `<div style=\"display: flex; align-items: center; min-height: 33px; margin-left: ${+marginLeft}px; font: 10px sans-serif;\">\n  <style>\n\n.${id} {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.${id}::before {\n  content: \"\";\n  width: ${+swatchWidth}px;\n  height: ${+swatchHeight}px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>${color.domain().map(value => `<span class=\"${id}\" style=\"--color: ${color(value)}\">${document.createTextNode(format(value))}</span>`)}</div>`;\n}\n\nfunction entity (character) {\n  return `&#${character.charCodeAt(0).toString()};`;\n}\n\nfunction ramp (color, n = 256) {\n  const canvas = d3.create('canvas').attr(\"width\", n).attr(\"height\", 1).node();\n  const context = canvas.getContext('2d');\n  for (let i = 0; i < n; ++i) {\n    context.fillStyle = color(i / (n - 1));\n    context.fillRect(i, 0, 1, 1);\n  }\n  return canvas;\n}\n","/* eslint-disable */\n// @ts-nocheck\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson-client';\n\nimport { Station, Measurement, WeatherPropertyName } from '../types';\nimport { weatherProperties } from '../weatherProperties';\nimport { legend } from './Legend';\n\nexport class D3StationsMap {\n  // arguments\n  private readonly selector: string;\n  private selectedProperty: WeatherPropertyName = 'temp';\n  private readonly selectedStations: Station[];\n  private readonly tooltipInfo: { station: Station, shown: boolean, x: number, y: number };\n  private readonly toggleCallback: Function;\n\n  private loading = true;\n\n  // remote data\n  private belgium!: TopoJSON.Topology;\n  private stations!: Station[];\n  private measurements!: Measurement[];\n\n  private measurementsMap: Map<string, Measurement> = new Map();\n\n  // settings\n  private readonly margin = { top: 5, right: 10, bottom: 50, left: 10 };\n  private readonly width = 900;\n  private readonly height = 300;\n\n  // D3 internals\n  private stationDots!: d3.Selection<Element | d3.EnterElement | Document | Window | SVGCircleElement | null, Station, SVGGElement, unknown>;\n  private colorScale!: d3.ScaleSequential<string>;\n  private legend!: d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n\n  constructor (selector: string, selectedProperty = 'temp', selectedStations: Station[], tooltipInfo, toggleStationCallback: Function) {\n    this.selector = selector;\n    this.setProperty(selectedProperty);\n    this.selectedStations = selectedStations;\n    this.tooltipInfo = tooltipInfo;\n    this.toggleCallback = toggleStationCallback;\n  }\n\n  async prepareData (stations: Station[], measurements: Measurement[]) {\n    // fetch data\n    const belgium = fetch('./belgium.topo.json')\n      .then(r => r.json());\n\n    this.belgium = await belgium as TopoJSON.Topology;\n    this.stations = stations;\n    this.measurements = measurements;\n\n    // prepare data\n    this.measurementsMap = new Map(this.measurements.map(m => [m.id, m]));\n  }\n\n  async init (stations: Station[], measurements: Measurement[]) {\n    await this.prepareData(stations, measurements);\n\n    this.colorScale = d3.scaleSequential(d3.interpolateViridis)\n      .domain(d3.extent(this.measurements.filter(d => d.status === \"Ok\"), d => d[this.selectedProperty]) as [number, number]);\n\n    // fit the map for what we want to show\n    const projection = d3.geoMercator()\n      .fitExtent(\n        [\n          [this.margin.left, this.margin.top],\n          [this.width - this.margin.right, this.height - this.margin.bottom]\n        ], topojson.feature(this.belgium, this.belgium.objects.municipalities));\n\n    const path = d3.geoPath().projection(projection);\n\n    const svg = d3.select(this.selector)\n      .html(\"\")\n      .append('svg')\n      .attr('viewBox', `0, 0, ${this.width}, ${this.height}`);\n\n    // draw muni's\n    svg.append('g')\n      .selectAll('.muni')\n      .data(topojson.feature(this.belgium, this.belgium.objects.municipalities).features)\n      .join('path')\n      .attr('class', 'muni d-none d-sm-inline')\n      .attr('fill', '#e5e5e5')\n      .attr('stroke', 'white')\n      .attr('stroke-linejoin', 'round')\n      .attr('d', path)\n      .append('title')\n      .text(d => d?.properties?.name_nl);\n    \n    // draw provinces\n    svg.append('g')\n      .selectAll('.province-bg')\n      .data(topojson.feature(this.belgium, this.belgium.objects.provinces).features)\n      .join('path')\n      .attr('class', 'province-bg d-sm-none')\n      .attr('fill', '#e5e5e5')\n      .attr('stroke', 'none')\n      .attr('stroke-linejoin', 'round')\n      .attr('d', path);\n\n    // draw provinces\n    svg.append('g')\n      .selectAll('.province')\n      .data(topojson.feature(this.belgium, this.belgium.objects.provinces).features)\n      .join('path')\n      .attr('class', 'province')\n      .attr('fill', 'none')\n      .attr('stroke', '#bbbbbb')\n      .attr('stroke-linejoin', 'round')\n      .attr('d', path);\n\n    // draw stations\n    this.stationDots = svg.append('g')\n      .selectAll('.station')\n      .data(this.stations)\n      .join('circle')\n      .attr('class', 'station')\n      .attr('id', d => 'station-' + d.id)\n      .attr('cx', d => projection([d.coordinates.longitude, d.coordinates.latitude])[0])\n      .attr('cy', d => projection([d.coordinates.longitude, d.coordinates.latitude])[1])\n      .style('cursor', 'pointer')\n      .on('mouseenter', (event, datum) => {\n        d3.select('#station-' + datum.id)\n          .attr('fill-opacity', 1)\n          .attr('r', 5);\n        this.tooltip(datum, event.pageX, event.pageY);\n      })\n      .on('mouseleave', (event, datum) => {\n        d3.select('#station-' + datum.id)\n          .attr('r', d => this.stationRadius(d as Station))\n          .attr('fill-opacity', d => this.stationFillOpacity(d as Station));\n        this.tooltip(null);\n      })\n      .on('click', (event, datum) => { this.toggleCallback(datum.id); });\n\n    this.legend = svg.append('g')\n      .attr('transform', `translate(${this.margin.left}, ${this.height - this.margin.top - 40})`);\n\n    this.loading = false;\n    this.update();\n  }\n\n  private tooltip (station: Station | null, x?: number, y?: number) {\n    if (station) {\n      this.tooltipInfo.station = station;\n      this.tooltipInfo.x = x;\n      this.tooltipInfo.y = y;\n      this.tooltipInfo.shown = true;\n    } else {\n      this.tooltipInfo.shown = false;\n    }\n  }\n\n  private setProperty (property: string) {\n    this.selectedProperty = (weatherProperties.hasOwnProperty(property) ? property : 'temp') as WeatherPropertyName;\n  }\n\n  updateProperty (property: string) {\n    this.setProperty(property);\n    this.update();\n  }\n\n  updateSelectedStations () {\n    this.update();\n  }\n\n  updateMeasurements (measurements: Measurement[]) {\n    this.measurements = measurements;\n    this.measurementsMap = new Map(this.measurements.map(m => [m.id, m]));\n    this.update();\n  }\n\n  private update () {\n    if (this.loading) return;\n\n    this.legend.html('');\n    this.colorScale.domain(d3.extent(this.measurements.filter(d => d.status === \"Ok\"), d => d[this.selectedProperty]) as [number, number]);\n    this.legend.append(() => legend({ color: this.colorScale, title: weatherProperties[this.selectedProperty].legend, width: 200, tickSize: -10, ticks: 4 }));\n    this.stationDots.transition()\n      .attr('r', d => this.stationRadius(d))\n      .attr('stroke', d => this.isSelectedStation(d) ? this.stationColor(d) : 'none')\n      .attr('stroke-width', d => this.isSelectedStation(d) ? 4 : 0)\n      .attr('fill-opacity', d => this.stationFillOpacity(d))\n      .attr('fill', d => this.isSelectedStation(d) ? 'white' : this.stationColor(d));\n  }\n\n  private isSelectedStation (station: Station): boolean {\n    return this.selectedStations.map(s => s.id).includes(station.id);\n  }\n\n  private stationRadius (station: Station): number {\n    if (this.measurementsMap.get(station.id)?.status !== 'Ok') {\n      return 2;\n    }\n    if (this.isSelectedStation(station)) {\n      return 5;\n    }\n    return 4;\n  }\n\n  private stationColor (station: Station): string {\n    const m = this.measurementsMap.get(station.id);\n    return m?.status === 'Ok' ? this.colorScale(m[this.selectedProperty]) : 'black';\n  }\n\n  private stationFillOpacity (station: Station): number {\n    return this.measurementsMap.get(station.id)?.status === 'Ok' ? 0.7 : 1;\n  }\n}\n","\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { event } from 'vue-gtag';\n\nimport TooltipCard from './TooltipCard.vue';\n\nimport { weatherProperties as wp } from '../app/weatherProperties';\nimport { Measurement, Station } from '@/app/types';\nimport { D3StationsMap } from '@/app/d3/D3StationsMap';\n\nexport default defineComponent({\n  name: 'StationsMap',\n  components: { TooltipCard },\n  props: {\n    mapId: {\n      type: String,\n      default: 'stationsMap'\n    },\n    dataLoaded: {\n      type: Promise<[Station[], Measurement[]]>,\n      required: true\n    }\n  },\n  setup (props, _context) {\n    let map: D3StationsMap | undefined;\n    const weatherProperties = wp;\n    const allowedProperties = ['temp', 'rainVolume', 'windSpeed'];\n\n    const tooltipInfo = ref({ shown: false, station: null, x: 0, y: 0 });\n    const selectedProperty = ref('temp');\n\n    const vlinderStore = useVlinderStore();\n\n    const selectedStations = computed<Station[]>(() => vlinderStore.selectedStations);\n    const measurements = computed<Measurement[]>(() => vlinderStore.liveMeasurements);\n\n    onMounted(async () => {\n      map = new D3StationsMap(`#${props.mapId}`, selectedProperty.value, selectedStations.value, tooltipInfo.value, toggleStation);\n      const [s, m] = await props.dataLoaded;\n      map.init(s, m);\n    });\n\n    // adds or removes a station to the list of selected stations\n    function toggleStation (stationId: string): void {\n      event('station_toggle', { event_category: 'stations', value: stationId });\n      vlinderStore.toggleStationById(stationId);\n    }\n\n    // when stations are selected or removed, update the D3 map\n    watch(selectedStations, () => {\n      if (map) {\n        map.updateSelectedStations();\n      }\n    }, { deep: true });\n\n    // when a different property is selected, we have to manually update the D3 map\n    watch(selectedProperty, () => {\n      event('property_change', { event_category: 'properties', value: selectedProperty.value });\n      if (map) {\n        map.updateProperty(selectedProperty.value);\n      }\n    });\n\n    // when measurements are updated, we have to manually update the D3 map\n    watch(measurements, () => {\n      if (map) {\n        map.updateMeasurements(measurements.value);\n      }\n    }, { deep: true });\n\n    return {\n      weatherProperties,\n      selectedProperty,\n      allowedProperties,\n      tooltipInfo\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationsMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StationsMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StationsMap.vue?vue&type=template&id=26c84b1e&\"\nimport script from \"./StationsMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./StationsMap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { computed, defineComponent, getCurrentInstance, PropType, ref, watch } from 'vue';\n// import { useRouter, useRoute } from 'vue-router';\n\nimport { useVlinderStore } from '@/stores';\n\nimport { event } from 'vue-gtag';\n\nimport GraphCard from '@/components/GraphCard.vue';\nimport StationCard from '@/components/StationCard.vue';\nimport StationSelector from '@/components/StationSelector.vue';\nimport StationsMap from '@/components/StationsMap.vue';\n\nimport { weatherProperties as wp } from '../app/weatherProperties';\n\nimport { Measurement } from '@/app/types';\n\nexport default defineComponent({\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Dashboard',\n  components: { GraphCard, StationCard, StationSelector, StationsMap },\n  props: {\n    urlStations: {\n      type: Array<string>,\n      default: () => []\n    }\n  },\n  setup (props, _context) {\n    const vlinderStore = useVlinderStore();\n    // const router = useRouter();\n    // const route = useRoute();\n    // remove lines below once the vue router is fixed\n    const instance = getCurrentInstance();\n    if (!instance) {\n      throw new Error('No current instance');\n    }\n    const router = instance.proxy.$router;\n    const route = instance.proxy.$route;\n\n    let resolveDataLoaded;\n    const initialDataLoaded = ref(new Promise((resolve) => { resolveDataLoaded = resolve; }));\n    const tooltipPosition = ref({ timestamp: -1, i: -1 });\n\n    const weatherProperties = computed(() => {\n      return wp;\n    });\n\n    const legendColors = computed(() => {\n      return vlinderStore.legendColors;\n    });\n\n    const selectedStations = computed(() => {\n      return vlinderStore.selectedStations;\n    });\n\n    const isError = computed(() => {\n      return vlinderStore.isStationsError || vlinderStore.isMeasurementsError;\n    });\n\n    const stationsFromStorage = JSON.parse(window.localStorage.getItem('selectedStations') || '[]') as string[];\n    // fetch data a first time\n    const stationsPromise = vlinderStore.fetchStations();\n    stationsPromise.then(() => {\n      let stationsSelected = false;\n      if (props.urlStations.length > 0) {\n        props.urlStations.forEach(s => {\n          const wasAdded = vlinderStore.selectStationByName(s);\n          stationsSelected ||= wasAdded;\n        });\n      }\n      if (!stationsSelected && stationsFromStorage.length > 0) {\n        stationsFromStorage.forEach(s => {\n          const wasAdded = vlinderStore.selectStationById(s);\n          stationsSelected ||= wasAdded;\n        });\n      }\n      if (!stationsSelected) {\n        vlinderStore.selectStationById('zZ6ZeSg11dJ5zp5GrNwNck9A');\n        vlinderStore.selectStationById('Do5lLMfezIdmUCzzsE0IwIbE');\n        vlinderStore.selectStationById('XeIIA97QzN5xxk6AvdzAPquY');\n      }\n    });\n    const measurementsPromise: Promise<Measurement[]> = vlinderStore.fetchMeasurements();\n\n    Promise.all([stationsPromise, measurementsPromise])\n      .then((d) => { resolveDataLoaded(d); });\n\n    scheduleFetch(vlinderStore.fetchMeasurements);\n    scheduleFetch(vlinderStore.fetchHistoricMeasurements);\n\n    watch(selectedStations, async () => {\n      vlinderStore.fetchHistoricMeasurements();\n\n      // set the query parameter\n      const query = Object.assign({}, route.query);\n      query.stations = selectedStations.value.map(s => s.name);\n      await router.replace({ query });\n\n      // set the history in local storage\n      window.localStorage.setItem('selectedStations', JSON.stringify(selectedStations.value.map(s => s.id)));\n    }, { deep: true });\n\n    function scheduleFetch(f: Function): void {\n      setTimeout(() => {\n        requestAnimationFrame(() => {\n          scheduleFetch(f);\n          f();\n        });\n      }, 60000);\n    }\n\n    function removeFromList (id: string): void {\n      event('station_deselect', { event_category: 'stations', value: id });\n      vlinderStore.deselectStationById(id);\n    }\n\n    return {\n      legendColors,\n      initialDataLoaded,\n      isError,\n      removeFromList,\n      selectedStations,\n      tooltipPosition,\n      weatherProperties\n    };\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=3391127c&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter, { RouteConfig } from 'vue-router';\nimport Dashboard from '../views/Dashboard.vue';\n\nVue.use(VueRouter);\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    alias: ['/index.html'],\n    name: 'Home',\n    component: Dashboard,\n    props: route => ({ urlStations: route.query.stations ? [route.query.stations].flat() : [] })\n  }\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\n\nfunction patchRouterMethod (router: VueRouter, methodName: string) {\n  // @ts-ignore\n  router['old' + methodName] = router[methodName];\n  // @ts-ignore\n  router[methodName] = async function (location) {\n    // @ts-ignore\n    return router['old' + methodName](location).catch((error) => {\n      if (error.name === 'NavigationDuplicated') {\n        return this.currentRoute;\n      }\n      throw error;\n    });\n  };\n}\n\npatchRouterMethod(router, 'push');\npatchRouterMethod(router, 'replace');\n\nexport default router;\n","import Vue from 'vue';\nimport App from './App.vue';\nimport { createPinia, PiniaVuePlugin } from 'pinia';\nimport VueGtag from 'vue-gtag';\nimport './registerServiceWorker';\nimport vuetify from './plugins/vuetify';\nimport 'whatwg-fetch';\n\nimport router from './router';\n\nVue.config.productionTip = false;\n\nVue.use(PiniaVuePlugin);\nconst pinia = createPinia();\n\nVue.use(VueGtag, {\n  config: { id: 'UA-170459792-1' }\n}, router);\n\nnew Vue({\n  vuetify,\n  pinia,\n  router,\n  render: h => h(App)\n}).$mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvlinder_dashboard\"] = self[\"webpackChunkvlinder_dashboard\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5894); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_c","attrs","staticClass","_vm","_v","staticRenderFns","render","defineComponent","name","setup","_props","_context","version","component","Vue","Vuetify","s","_l","tooltipPosition","weatherProperties","API_URL","STATIONS_PATH","MEASUREMENTS_PATH","useVlinderStore","defineStore","state","stationsLoaded","stations","Array","selectedStations","liveMeasurements","loadingHistoricMeasurements","isStationsError","isMeasurementsError","isHistoricMeasurementsError","legendColors","Object","historicMeasurements","getters","historicData","prop","data","property","series","timestamps","length","map","m","time","forEach","ms","push","stationId","id","values","actions","fetchStations","fetch","then","r","ok","json","Promise","reject","Error","this","catch","fetchMeasurements","fetchHistoricMeasurements","all","selectStationById","station","find","addSelectedStation","deselectStationById","removeSelectedStation","selectStationByName","stationName","toggleStationById","includes","setLegendColors","splice","indexOf","directives","rawName","hasData","f","d3","dateTime","date","periods","days","shortDays","months","shortMonths","formatMillisecond","format","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","multiFormat","D3Graph","constructor","selector","top","right","bottom","left","init","svg","html","append","attr","width","height","x","range","margin","y","color","line","curve","defined","d","isNaN","i","Date","parse","measurements","lines","xAxis","call","ticks","tickFormat","yAxis","mouseG","mouseLine","style","timeLabel","bisector","on","event","timestamp","bisect","node","updateData","update","getLegendColors","result","updateTooltip","mouseDots","mouseBGLabels","labelxPos","labelyPos","text","mouseLabels","filteredSeries","filter","domain","nice","transition","selectAll","join","offset","undefined","mx","invert","index","a","b","props","weatherProperty","type","required","graphId","String","updateLegendColors","Boolean","default","graph","wbgtStations","vlinderStore","computed","loading","consolidatedGraphId","tooltipI","value","some","onMounted","watch","deep","removeFromList","mapUrl","staticStyle","sponsor","_setup","D3LandUse","landUse","keys","key","usage","v","waterColor","pavedColor","greenColor","unknown","angle","Math","PI","radius","distance","padding","rAxis","g","tickSizeOuter","remove","arc","toLowerCase","legend","innerRadius","outerRadius","bandwidth","startAngle","endAngle","temp","icon","title","unit","rainVolume","pressure","windSpeed","humidity","wbgt","components","LandUseGraph","sponsorUrl","activeProperties","wp","p","event_category","fn","callback","expression","model","scopedSlots","item","active","dialog","ref","search","activeStations","query","searchKey","city","given_name","school","selectStation","addedStations","removeStations","selectedProperty","mapId","position","tooltipInfo","tickSize","marginTop","marginRight","marginBottom","marginLeft","tickValues","tickAdjust","interpolate","n","min","copy","rangeRound","ramp","toDataURL","interpolator","assign","round","invertExtent","thresholds","quantiles","thresholdFormat","max","select","canvas","context","getContext","fillStyle","fillRect","D3StationsMap","toggleStationCallback","Map","setProperty","toggleCallback","belgium","measurementsMap","prepareData","colorScale","status","projection","fitExtent","topojson","objects","municipalities","path","features","properties","name_nl","provinces","stationDots","coordinates","longitude","latitude","datum","tooltip","pageX","pageY","stationRadius","stationFillOpacity","shown","updateProperty","updateSelectedStations","updateMeasurements","isSelectedStation","stationColor","get","TooltipCard","dataLoaded","allowedProperties","toggleStation","async","GraphCard","StationCard","StationSelector","StationsMap","urlStations","instance","getCurrentInstance","router","proxy","$router","route","$route","resolveDataLoaded","initialDataLoaded","resolve","isError","stationsFromStorage","JSON","window","localStorage","getItem","stationsPromise","stationsSelected","wasAdded","measurementsPromise","scheduleFetch","setTimeout","requestAnimationFrame","replace","setItem","stringify","VueRouter","routes","alias","Dashboard","flat","mode","base","process","patchRouterMethod","methodName","location","error","currentRoute","PiniaVuePlugin","pinia","createPinia","VueGtag","config","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","e","obj","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}